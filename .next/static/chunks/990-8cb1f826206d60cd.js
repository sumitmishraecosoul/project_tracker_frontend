"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[990],{5731:(e,r,s)=>{s.d(r,{A:()=>o});var a=s(5155),t=s(2115),l=s(7296);function o(e){var r,s;let{task:o,onSave:n,onClose:i}=e,[d,c]=(0,t.useState)({...o,startDate:o.startDate?new Date(o.startDate).toISOString().split("T")[0]:"",eta:o.eta?new Date(o.eta).toISOString().split("T")[0]:""}),[u,m]=(0,t.useState)([]),[p,b]=(0,t.useState)(!1);(0,t.useEffect)(()=>{x()},[]),(0,t.useEffect)(()=>{if("Daily"===d.taskType){let e=new Date().toISOString().split("T")[0];c(r=>({...r,startDate:e,eta:e}))}},[d.taskType]);let x=async()=>{try{let e=await l.K.getAssignableUsers();m(e)}catch(e){console.error("Failed to fetch assignable users:",e);try{let e=await l.K.getUsers();m(e)}catch(e){console.error("Failed to fetch users (fallback):",e),m([])}}},g=(e,r)=>{c(s=>({...s,[e]:r}))},h=(e,r)=>{if(""===r)return void c(r=>({...r,[e]:void 0}));let s=parseFloat(r);isNaN(s)||c(r=>({...r,[e]:s}))},f=(e,r)=>{let s=u.find(e=>e._id===r);s&&c(r=>({...r,[e]:{_id:s._id,name:s.name,email:s.email}}))};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Task"}),(0,a.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-close-line w-6 h-6"})})]})}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b(!0),n(d),b(!1)},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task"}),(0,a.jsx)("input",{type:"text",value:d.task,onChange:e=>g("task",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,a.jsx)("textarea",{value:d.description,onChange:e=>g("description",e.target.value),rows:3,maxLength:500,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Type"}),(0,a.jsxs)("select",{value:d.taskType,onChange:e=>g("taskType",e.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Daily",children:"Daily"}),(0,a.jsx)("option",{value:"Weekly",children:"Weekly"}),(0,a.jsx)("option",{value:"Monthly",children:"Monthly"}),(0,a.jsx)("option",{value:"Adhoc",children:"Adhoc"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,a.jsxs)("select",{value:d.priority,onChange:e=>g("priority",e.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Critical",children:"Critical"}),(0,a.jsx)("option",{value:"High",children:"High"}),(0,a.jsx)("option",{value:"Medium",children:"Medium"}),(0,a.jsx)("option",{value:"Low",children:"Low"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,a.jsxs)("select",{value:d.status,onChange:e=>g("status",e.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Yet to Start",children:"Yet to Start"}),(0,a.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,a.jsx)("option",{value:"Completed",children:"Completed"}),(0,a.jsx)("option",{value:"Blocked",children:"Blocked"}),(0,a.jsx)("option",{value:"On Hold",children:"On Hold"}),(0,a.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To"}),(0,a.jsxs)("select",{value:d.assignedTo._id,onChange:e=>f("assignedTo",e.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a user"}),u.map(e=>(0,a.jsxs)("option",{value:e._id,disabled:!1===e.assignable,children:[e.name," (",e.email,") ",!1===e.assignable?"(Not Assignable)":""]},e._id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reporter"}),(0,a.jsxs)("select",{value:d.reporter._id,onChange:e=>f("reporter",e.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a user"}),u.map(e=>(0,a.jsxs)("option",{value:e._id,disabled:!1===e.assignable,children:[e.name," (",e.email,") ",!1===e.assignable?"(Not Assignable)":""]},e._id))]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:d.startDate||"",onChange:e=>g("startDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:d.eta,onChange:e=>g("eta",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Hours"}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.5",value:null!=(r=d.estimatedHours)?r:"",onChange:e=>h("estimatedHours",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Actual Hours"}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.5",value:null!=(s=d.actualHours)?s:"",onChange:e=>h("actualHours",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remark"}),(0,a.jsx)("textarea",{value:d.remark||"",onChange:e=>g("remark",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Enter any remarks"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Road Block"}),(0,a.jsx)("textarea",{value:d.roadBlock||"",onChange:e=>g("roadBlock",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Describe any roadbloacks ('Feature', 'Bug', 'Enhancement', 'Documentation', 'Research',)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Support Needed"}),(0,a.jsx)("textarea",{value:d.supportNeeded||"",onChange:e=>g("supportNeeded",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Describe support needed"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sprint"}),(0,a.jsx)("input",{type:"text",value:d.sprint||"",onChange:e=>g("sprint",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter sprint name"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-8",children:[(0,a.jsx)("button",{type:"button",onClick:i,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 cursor-pointer whitespace-nowrap",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-blue-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-blue-700 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Saving...":"Save Changes"})]})]})]})})}},7288:(e,r,s)=>{s.d(r,{A:()=>i});var a=s(5155),t=s(6874),l=s.n(t),o=s(5695),n=s(2115);function i(){let e=(0,o.usePathname)(),r=(0,o.useRouter)(),[s,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=localStorage.getItem("currentUser");e&&t(JSON.parse(e))},[]),(0,a.jsx)("header",{className:"bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg border-b border-blue-500",children:(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-white tracking-wide",children:"Project Tracker"})}),(0,a.jsx)("nav",{className:"flex items-center space-x-2",children:[{name:"Dashboard",path:"/project-tracker/dashboard"},{name:"Project Tracker",path:"/project-tracker"},{name:"Task Tracker",path:"/task-tracker"}].map(r=>{var s;let t="/project-tracker/dashboard"===(s=r.path)?"/project-tracker/dashboard"===e||e.startsWith("/project-tracker/dashboard/"):"/project-tracker"===s?"/project-tracker"===e||e.startsWith("/project-tracker/")&&!e.startsWith("/project-tracker/dashboard"):e===s||e.startsWith(s+"/");return(0,a.jsx)(l(),{href:r.path,className:"px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap cursor-pointer transition-all duration-200 ".concat(t?"bg-white text-blue-600 shadow-md transform scale-105":"text-blue-100 hover:text-white hover:bg-white/20 hover:shadow-md"),children:r.name},r.path)})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(l(),{href:"/",className:"px-4 py-2 rounded-lg text-sm font-medium text-blue-100 hover:text-white hover:bg-white/20 transition-all duration-200 whitespace-nowrap",children:[(0,a.jsx)("i",{className:"ri-arrow-left-line mr-2"}),"Back to Portal"]}),s&&(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"text-sm text-blue-100 hidden sm:block",children:(0,a.jsx)("span",{className:"font-semibold",children:s.name})}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("currentUser"),localStorage.removeItem("token"),r.push("/login")},className:"flex items-center px-4 py-2 bg-red-500 hover:bg-red-600 text-white text-sm font-medium rounded-lg transition-all duration-200 hover:shadow-lg transform hover:scale-105 cursor-pointer whitespace-nowrap",children:[(0,a.jsx)("i",{className:"ri-logout-box-line mr-2"}),"Logout"]})]})]})]})})})}},9265:(e,r,s)=>{s.d(r,{A:()=>o});var a=s(5155),t=s(2115),l=s(7296);function o(e){var r,s;let{userId:o,projectId:n,onAdd:i,onClose:d}=e,[c,u]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[b,x]=(0,t.useState)(!1),[g,h]=(0,t.useState)(null),[f,y]=(0,t.useState)(""),[j,v]=(0,t.useState)({projectId:n||"",task:"",description:"",taskType:"Daily",priority:"Medium",status:"Yet to Start",assignedTo:o||"",reporter:"",startDate:new Date().toISOString().split("T")[0],eta:new Date(Date.now()+6048e5).toISOString().split("T")[0],estimatedHours:0,actualHours:0,remark:"",roadBlock:"",supportNeeded:"",labels:[],attachments:[],relatedTasks:[],parentTask:"",sprint:""});(0,t.useEffect)(()=>{N(),w(),k()},[]),(0,t.useEffect)(()=>{if("Daily"===j.taskType){let e=new Date().toISOString().split("T")[0];v(r=>({...r,startDate:e,eta:e}))}},[j.taskType]),(0,t.useEffect)(()=>{g&&g._id&&!j.reporter&&v(e=>({...e,reporter:g._id}))},[g,j.reporter]);let k=()=>{let e=localStorage.getItem("currentUser");e&&h(JSON.parse(e))},N=async()=>{try{let e=await l.K.getProjects();console.log("AddUserTaskModal - Fetched projects data:",e);let r=[];Array.isArray(e)?r=e:e&&"object"==typeof e&&Array.isArray(e.projects)?r=e.projects:e&&"object"==typeof e&&Array.isArray(e.data)&&(r=e.data),console.log("AddUserTaskModal - Processed projects data:",r),u(r)}catch(e){console.error("Failed to fetch projects:",e),u([])}},w=async()=>{try{let e=localStorage.getItem("currentUser"),r=e?JSON.parse(e):null,s=[];if((null==r?void 0:r.role)==="admin"){let e=await l.K.getUsers();s=Array.isArray(e)?e:[]}else if((null==r?void 0:r.role)==="manager"||(null==r?void 0:r.role)==="employee"){let e=await l.K.getUsers();s=Array.isArray(e)?e.filter(e=>e.department===r.department):[]}else{let e=await l.K.getAssignableUsers();s=Array.isArray(e)?e:[]}p(s)}catch(e){console.error("Failed to fetch users:",e),p([])}},T=(e,r)=>{v(s=>({...s,[e]:r}))},C=(e,r)=>{if(""===r)return void v(r=>({...r,[e]:void 0}));let s=parseFloat(r);isNaN(s)||v(r=>({...r,[e]:s}))},S=async()=>{try{if(x(!0),console.log("Creating new task with data:",j),!j.projectId||!j.task||!j.assignedTo||!j.reporter||!j.eta){console.error("Missing required fields:",{projectId:j.projectId,task:j.task,assignedTo:j.assignedTo,reporter:j.reporter,eta:j.eta}),y("Please fill in all required fields: Project, Task Name, Assigned To, Reporter, and End Date"),x(!1);return}if(!j.assignedTo||!j.reporter){console.error("Invalid user IDs:",{assignedTo:j.assignedTo,reporter:j.reporter}),y("Please select valid users for Assigned To and Reporter"),x(!1);return}let e=localStorage.getItem("currentUser");e&&JSON.parse(e);let r={projectId:j.projectId,task:j.task,description:j.description||"",taskType:j.taskType,status:j.status,priority:j.priority,assignedTo:j.assignedTo,reporter:j.reporter,startDate:j.startDate,eta:j.eta,estimatedHours:j.estimatedHours||0,actualHours:j.actualHours||0,remark:j.remark||"",roadBlock:j.roadBlock||"",supportNeeded:j.supportNeeded||"",labels:j.labels||[],attachments:j.attachments||[],relatedTasks:j.relatedTasks||[],parentTask:j.parentTask||"",sprint:j.sprint||""};console.log("Task data for API:",r),console.log("Users available:",m),console.log("Selected assignedTo:",j.assignedTo),console.log("Selected reporter:",j.reporter);let s=m.find(e=>e._id===j.assignedTo),a=m.find(e=>e._id===j.reporter);console.log("Assigned user found:",s),console.log("Reporter user found:",a);let t=await l.K.createTask(r);console.log("Task created successfully:",t),y(""),i(t),d()}catch(r){console.error("Failed to create task:",r),console.error("Error details:",{message:r instanceof Error?r.message:"Unknown error",stack:r instanceof Error?r.stack:void 0,error:r});let e=r instanceof Error?r.message:"Unknown error";e.includes("getManagerTeamUserIds is not defined")?y("Task creation failed due to a backend configuration issue. Please contact your administrator or try again later."):e.includes("HTTP 400")?y("Task creation failed. Please check that all required fields are filled correctly and try again."):y("Failed to create task: ".concat(e))}finally{x(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Task"}),(0,a.jsx)("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-close-line w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[(null==g?void 0:g.role)==="employee"&&(0,a.jsx)("p",{className:"text-blue-600",children:"\uD83D\uDCA1 As an employee, you can create tasks for users in your department"}),(null==g?void 0:g.role)==="manager"&&(0,a.jsx)("p",{className:"text-blue-600",children:"\uD83D\uDCA1 As a manager, you can assign tasks to your team members"}),(null==g?void 0:g.role)==="admin"&&(0,a.jsx)("p",{className:"text-blue-600",children:"\uD83D\uDCA1 As an admin, you can assign tasks to anyone"})]})]}),f&&(0,a.jsx)("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:f}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),S()},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project *"}),(0,a.jsxs)("select",{value:j.projectId,onChange:e=>T("projectId",e.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a project"}),Array.isArray(c)&&c.map(e=>(0,a.jsx)("option",{value:e._id,children:e.title},e._id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Name *"}),(0,a.jsx)("input",{type:"text",value:j.task,onChange:e=>T("task",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter task name",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,a.jsx)("textarea",{value:j.description,onChange:e=>T("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Enter task description..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Type"}),(0,a.jsxs)("select",{value:j.taskType,onChange:e=>T("taskType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Daily",children:"Daily"}),(0,a.jsx)("option",{value:"Weekly",children:"Weekly"}),(0,a.jsx)("option",{value:"Monthly",children:"Monthly"}),(0,a.jsx)("option",{value:"Adhoc",children:"Adhoc"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,a.jsxs)("select",{value:j.priority,onChange:e=>T("priority",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Low",children:"Low"}),(0,a.jsx)("option",{value:"Medium",children:"Medium"}),(0,a.jsx)("option",{value:"High",children:"High"}),(0,a.jsx)("option",{value:"Critical",children:"Critical"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,a.jsxs)("select",{value:j.status,onChange:e=>T("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Yet to Start",children:"Yet to Start"}),(0,a.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,a.jsx)("option",{value:"Completed",children:"Completed"}),(0,a.jsx)("option",{value:"Blocked",children:"Blocked"}),(0,a.jsx)("option",{value:"On Hold",children:"On Hold"}),(0,a.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sprint"}),(0,a.jsx)("input",{type:"text",value:j.sprint,onChange:e=>T("sprint",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter sprint name"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To *"}),(0,a.jsxs)("select",{value:j.assignedTo,onChange:e=>T("assignedTo",e.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a user"}),m.map(e=>(0,a.jsxs)("option",{value:e._id,disabled:!1===e.assignable,children:[e.name," (",e.email,") ",!1===e.assignable?"(Not Assignable)":""]},e._id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reporter *"}),(0,a.jsxs)("select",{value:j.reporter,onChange:e=>T("reporter",e.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a user"}),m.map(e=>(0,a.jsxs)("option",{value:e._id,disabled:!1===e.assignable,children:[e.name," (",e.email,") ",!1===e.assignable?"(Not Assignable)":""]},e._id))]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:j.startDate,onChange:e=>T("startDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date *"}),(0,a.jsx)("input",{type:"date",value:j.eta,onChange:e=>T("eta",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Hours"}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.5",value:null!=(r=j.estimatedHours)?r:"",onChange:e=>C("estimatedHours",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Actual Hours"}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.5",value:null!=(s=j.actualHours)?s:"",onChange:e=>C("actualHours",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remark"}),(0,a.jsx)("textarea",{value:j.remark,onChange:e=>T("remark",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Enter any remarks"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Road Block"}),(0,a.jsx)("textarea",{value:j.roadBlock,onChange:e=>T("roadBlock",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Describe any roadbloacks ('Feature', 'Bug', 'Enhancement', 'Documentation', 'Research',)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Support Needed"}),(0,a.jsx)("textarea",{value:j.supportNeeded,onChange:e=>T("supportNeeded",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Describe support needed"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-8",children:[(0,a.jsx)("button",{type:"button",onClick:d,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 cursor-pointer whitespace-nowrap",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:b||!j.task||!j.assignedTo||!j.reporter||!j.projectId,className:"px-4 py-2 bg-blue-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-blue-700 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Creating...":"Create Task"})]})]})]})})}}}]);